<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>echarts pie</title>
	<script type="text/javascript" src="jquery.min.js"></script>
	<script type="text/javascript" src="echarts.min.js"></script>
	<style type="text/css">
		#pie{
			width:500px;
			height:500px;
		}
	</style>
</head>
<body>
<div id="pie"></div>
<script>
var myChart = document.getElementById('pie');
   //基于准备好的dom，初始化echarts实例
	var myChart=echarts.init(document.getElementById("pie"));
	option = {
			title: {
				show:true,
		        text: '总资产',
		        subtext: '2000000.00',
		        x: 'center',
		        y: 'center'
	  	 	},
	    tooltip: {
	        show:false,
	        trigger: 'item',
	        formatter: "{a} <br/>{b}: {c} ({d}%)"
	    },
	    legend: {
	        orient: 'vertical',
	        x: 'left',
	        data:['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']
	    },
	    series: [
	        {
	            name:'访问来源',
	            type: 'pie',
	            radius: ['50%', '70%'],
	            avoidLabelOverlap:false,
	            hoverAnimattion:true,
	            silent:false,
	            label:{
	            	normal:{
	            		show:false,
	            		position:'center',
	            		formatter:function(){
	            			return '总资产(元)\r\n 23,000.00'
	            		},
	            		textStyle:{
	            			fontSize:14,
	            			color:'green'
	            		}
	            	},
	                emphasis: {
	                    show: true,
	                    textStyle: {
	                        fontSize: '30',
	                        fontWeight: 'bold'
	                    },
	                     formatter: function(params){
	                        return params.name +'\n'+ params.value +' ('+ params.percent +'%)';
	                    }
	                    }
	            },
	            labelLine: {
	                normal: {
	                    show: false
	                }
	            },
	            data:[
	                {value:335, name:'直接访问'},
	                {value:310, name:'邮件营销'},
	                {value:234, name:'联盟广告'},
	                {value:135, name:'视频广告'},
	                {value:1548, name:'搜索引擎'}
	            ]
	        }
	    ]
	};
 //使用刚指定的配置项和数据显示图表
	myChart.setOption(option);
	myChart.on('hover', function(){ 
		var opt = myChart.getOption(); 
		opt.title.visible= false;
		 myChart.setOption(opt); 
	})
	myChart.on('mouseout', function(){ 
		var opt = myChart.getOption(); 
		opt.title.visible= true; 
		myChart.setOption(opt); });

	/*	myChart.on('mouseout', function (params) {
			var opt = myChart.getOption(); 
			/*console.log(opt.series);*/
			/*var series=opt.series;
			for(var key in series){
				console.log(series[key].label.normal.formatter);
				/*console.log(series[key].label.normal);
				console.log(series[key].label.normal.show);
				series[key].label.normal.show= false;
				myChart.setOption(opt);
				console.log(series[key].label.normal.show);
			}
		}); */
			

		/*myChart.on('mouseover', function(){ 
			var opt = myChart.getOption(); 
			opt.title[0].show= false;
			console.log(opt.title[0].show);
			 myChart.setOption(opt);
		 })*/
	/*	myChart.on('mouseout', function(){ 
		 	var opt = myChart.getOption(); 
		 	opt.title[0].show= true;
		 	 myChart.setOption(opt); 
	 	});*/
</script>
</body>
</html>